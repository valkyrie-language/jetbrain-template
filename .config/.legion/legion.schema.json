{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "LegionConfig",
    "type": "object",
    "required": [
        "license",
        "name",
        "version"
    ],
    "properties": {
        "authors": {
            "description": "The name of authors",
            "default": {
                "Multiple": []
            },
            "allOf": [
                {
                    "$ref": "#/definitions/AuthorsInfo"
                }
            ]
        },
        "categories": {
            "title": "0 <= category <= 5",
            "default": [],
            "type": "array",
            "items": {
                "type": "string"
            },
            "maxItems": 5,
            "minItems": 0
        },
        "dependency": {
            "default": {},
            "type": "object",
            "additionalProperties": {
                "$ref": "#/definitions/DependencyInfo"
            }
        },
        "dependency-build": {
            "default": {},
            "type": "object",
            "additionalProperties": {
                "$ref": "#/definitions/DependencyInfo"
            }
        },
        "dependency-development": {
            "default": {},
            "type": "object",
            "additionalProperties": {
                "$ref": "#/definitions/DependencyInfo"
            }
        },
        "description": {
            "title": "0 <= string <= 144",
            "description": "Briefly introduce this project in one sentence",
            "default": "",
            "type": "string",
            "maxLength": 144,
            "minLength": 0
        },
        "document": {
            "default": "",
            "type": "string",
            "format": "uri"
        },
        "exclude": {
            "default": [],
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "features": {
            "default": {},
            "type": "object",
            "additionalProperties": {
                "type": "array",
                "items": {
                    "type": "string"
                }
            }
        },
        "homepage": {
            "default": "",
            "type": "string",
            "format": "uri"
        },
        "include": {
            "default": [],
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "keywords": {
            "title": "0 <= keyword <= 9",
            "default": [],
            "type": "array",
            "items": {
                "type": "string"
            },
            "maxItems": 9,
            "minItems": 0
        },
        "license": {
            "title": "workspace | a.b.c.d",
            "description": "The license used by the current project",
            "allOf": [
                {
                    "$ref": "#/definitions/LicenseInfo"
                }
            ]
        },
        "name": {
            "title": "[0-9a-zA-Z_-]+",
            "description": "name of the package or workspace",
            "type": "string",
            "minLength": 1,
            "pattern": "[0-9a-zA-Z-]+"
        },
        "publish": {
            "title": "bool",
            "description": "Weather to publish this project, set  [`false`] to prevent accidental publishing",
            "default": false,
            "type": "boolean"
        },
        "repository": {
            "default": "",
            "type": "string",
            "format": "uri"
        },
        "version": {
            "title": "workspace | a.b.c.d",
            "description": "Inherit from workspace or use four-digit version number",
            "oneOf": [
                {
                    "$ref": "#/definitions/InheritConfig"
                },
                {
                    "$ref": "#/definitions/Version"
                }
            ]
        }
    },
    "definitions": {
        "AuthorsInfo": {
            "anyOf": [
                {
                    "$ref": "#/definitions/InheritConfig"
                },
                {
                    "type": "string"
                },
                {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            ]
        },
        "CustomLicense": {
            "type": "object",
            "required": [
                "file"
            ],
            "properties": {
                "file": {
                    "description": "Local path to the license file",
                    "type": "string"
                }
            }
        },
        "DependencyInfo": {
            "anyOf": [
                {
                    "$ref": "#/definitions/InheritConfig"
                },
                {
                    "$ref": "#/definitions/VersionRequest"
                },
                {
                    "type": "object",
                    "required": [
                        "version"
                    ],
                    "properties": {
                        "default_features": {
                            "default": false,
                            "type": "boolean"
                        },
                        "features": {
                            "default": {},
                            "type": "object",
                            "additionalProperties": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            }
                        },
                        "optional": {
                            "default": false,
                            "type": "boolean"
                        },
                        "path": {
                            "type": "string",
                            "nullable": true
                        },
                        "version": {
                            "$ref": "#/definitions/VersionRequest"
                        }
                    }
                },
                {
                    "type": "object",
                    "required": [
                        "version"
                    ],
                    "properties": {
                        "default_features": {
                            "default": false,
                            "type": "boolean"
                        },
                        "features": {
                            "default": {},
                            "type": "object",
                            "additionalProperties": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            }
                        },
                        "git": {
                            "type": "string",
                            "nullable": true
                        },
                        "optional": {
                            "default": false,
                            "type": "boolean"
                        },
                        "version": {
                            "$ref": "#/definitions/VersionRequest"
                        }
                    }
                }
            ]
        },
        "InheritConfig": {
            "description": "Inherit from other place",
            "oneOf": [
                {
                    "description": "Load config form workspace",
                    "type": "string",
                    "enum": [
                        "workspace"
                    ]
                }
            ]
        },
        "LicenseInfo": {
            "oneOf": [
                {
                    "$ref": "#/definitions/InheritConfig"
                },
                {
                    "$ref": "#/definitions/LicenseType"
                },
                {
                    "$ref": "#/definitions/CustomLicense"
                }
            ]
        },
        "LicenseType": {
            "description": "A predefined [SPDX](https://spdx.org/licenses) license",
            "oneOf": [
                {
                    "description": "[MIT License](https://spdx.org/licenses/MIT.html)",
                    "type": "string",
                    "enum": [
                        "MIT"
                    ]
                },
                {
                    "description": "[GNU General Public License v3.0](https://spdx.org/licenses/GPL-3.0.html)",
                    "type": "string",
                    "enum": [
                        "GPL-3.0"
                    ]
                },
                {
                    "description": "[Apache License 2.0](https://spdx.org/licenses/Apache-2.0.html)",
                    "type": "string",
                    "enum": [
                        "Apache-2.0"
                    ]
                },
                {
                    "description": "[BSD 3-Clause \"New\" or \"Revised\" License](https://spdx.org/licenses/BSD-3-Clause.html)",
                    "type": "string",
                    "enum": [
                        "BSD-3-Clause"
                    ]
                },
                {
                    "description": "[GNU Lesser General Public License v3.0](https://spdx.org/licenses/LGPL-3.0.html)",
                    "type": "string",
                    "enum": [
                        "LGPL-3.0"
                    ]
                },
                {
                    "description": "[European Union Public License 1.2](https://spdx.org/licenses/EUPL-1.2.html)",
                    "type": "string",
                    "enum": [
                        "EUPL-1.2"
                    ]
                },
                {
                    "description": "[Creative Commons Attribution 4.0 International](https://spdx.org/licenses/CC-BY-4.0.html)",
                    "type": "string",
                    "enum": [
                        "CC-BY-4.0"
                    ]
                },
                {
                    "description": "[Mozilla Public License 2.0](https://spdx.org/licenses/MPL-2.0.html)",
                    "type": "string",
                    "enum": [
                        "MPL-2.0"
                    ]
                },
                {
                    "description": "[Eclipse Public License 2.0](https://spdx.org/licenses/EPL-2.0.html)",
                    "type": "string",
                    "enum": [
                        "EPL-2.0"
                    ]
                },
                {
                    "description": "[BSD 2-Clause \"Simplified\" License](https://spdx.org/licenses/BSD-2-Clause.html)",
                    "type": "string",
                    "enum": [
                        "BSD-2-Clause"
                    ]
                },
                {
                    "description": "[GNU Affero General Public License v3.0](https://spdx.org/licenses/AGPL-3.0.html)",
                    "type": "string",
                    "enum": [
                        "AGPL-3.0"
                    ]
                },
                {
                    "description": "[Common Development and Distribution License 1.0](https://spdx.org/licenses/CDDL-1.0.html)",
                    "type": "string",
                    "enum": [
                        "CDDL-1.0"
                    ]
                },
                {
                    "description": "[Microsoft Public License](https://spdx.org/licenses/MS-PL.html)",
                    "type": "string",
                    "enum": [
                        "MS-PL"
                    ]
                },
                {
                    "description": "[Artistic License 2.0](https://spdx.org/licenses/Artistic-2.0.html)",
                    "type": "string",
                    "enum": [
                        "Artistic-2.0"
                    ]
                },
                {
                    "description": "[zlib License](https://spdx.org/licenses/Zlib.html)",
                    "type": "string",
                    "enum": [
                        "Zlib"
                    ]
                },
                {
                    "description": "[SIL Open Font License 1.1](https://spdx.org/licenses/OFL-1.1.html)",
                    "type": "string",
                    "enum": [
                        "OFL-1.1"
                    ]
                },
                {
                    "description": "[ISC License](https://spdx.org/licenses/ISC.html)",
                    "type": "string",
                    "enum": [
                        "ISC"
                    ]
                },
                {
                    "description": "[Boost Software License 1.0](https://spdx.org/licenses/BSL-1.0.html)",
                    "type": "string",
                    "enum": [
                        "BSL-1.0"
                    ]
                },
                {
                    "description": "[Microsoft Reciprocal License](https://spdx.org/licenses/MS-RL.html)",
                    "type": "string",
                    "enum": [
                        "MS-RL"
                    ]
                },
                {
                    "description": "[Unlicense](https://spdx.org/licenses/Unlicense.html)",
                    "type": "string",
                    "enum": [
                        "Unlicense"
                    ]
                }
            ]
        },
        "Version": {
            "default": "0.0.0.0",
            "type": "string",
            "pattern": "[0-9]{1,10}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,5}"
        },
        "VersionRequest": {
            "default": "*",
            "type": "string"
        }
    }
}
